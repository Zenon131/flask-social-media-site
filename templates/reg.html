{% extends 'base.html' %}
{% from 'bootstrap5/form.html' import render_form %}

{% block title %}Tell Us About Yourself!{% endblock %}
{% block content %}

<header class="header bg-dark text-white">
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCu4LpF63EcRKbH60CU1ij85xH23NGAkno&libraries=places" async defer></script>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
  <div class="container">
    <div class="d-flex align-items-center justify-content-between py-0.5">
      <!-- The Function -->
      <a class="d-flex align-items-center col-md-2 mb-2 mb-md-0 text-dark" href="{{ url_for('commfeed') }}">
        <img src="static\css\pidgin (2).png" height="60">
        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev/svgjs" width="128" height="50" viewBox="0 0 2000 1176"><g transform="matrix(1,0,0,1,-1.2121212121212466,-0.13594905164063675)"><svg viewBox="0 0 396 233" data-background-color="#191f3f" preserveAspectRatio="xMidYMid meet" height="1176" width="2000" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="tight-bounds" transform="matrix(1,0,0,1,0.2400000000000091,0.026935483870971666)"><svg viewBox="0 0 395.52 232.94612903225806" height="232.94612903225806" width="395.52"><g><svg viewBox="0 0 395.52 232.94612903225806" height="232.94612903225806" width="395.52"><g><svg viewBox="0 0 395.52 232.94612903225806" height="232.94612903225806" width="395.52"><g><svg viewBox="0 0 395.52000000000004 232.94612903225809" height="232.94612903225806" width="395.52"><g><svg viewBox="0 0 395.52000000000004 232.94612903225809" height="232.94612903225809" width="395.52000000000004"><g id="textblocktransform"><svg viewBox="0 0 395.52000000000004 232.94612903225809" height="232.94612903225809" width="395.52000000000004" id="textblock"><g><svg viewBox="0 0 395.52000000000004 232.94612903225809" height="232.94612903225809" width="395.52000000000004"><g transform="matrix(1,0,0,1,0,0)"><svg width="395.52000000000004" viewBox="0.24 -38.33 96.87 57.055" height="232.94612903225809" data-palette-color="#f00b51"><path d="M3.08 11.43L2.69-8.79Q1.76-9.13 1-9.62 0.24-10.11 0.24-11.23L0.24-11.23Q0.24-11.52 0.39-11.62 0.54-11.72 0.63-11.91L0.63-11.91Q0.73-12.06 1.03-12.45 1.32-12.84 1.66-13.31 2-13.77 2.29-14.18 2.59-14.6 2.69-14.75L2.69-14.75Q2.69-15.38 2.61-16.28 2.54-17.19 2.66-17.99 2.78-18.8 3.22-19.36 3.66-19.92 4.69-19.92L4.69-19.92Q5.27-19.92 5.66-19.51 6.05-19.09 6.64-19.09L6.64-19.09 6.84-19.09Q8.84-20.65 10.96-21.85 13.09-23.05 15.72-23.05L15.72-23.05Q17.43-23.05 18.53-22.05 19.63-21.04 19.63-19.24L19.63-19.24Q19.63-16.99 18.6-14.6 17.58-12.21 16.04-9.94 14.5-7.67 12.72-5.66 10.94-3.66 9.47-2.2L9.47-2.2Q9.33-2 9.03-1.78 8.74-1.56 8.5-1.32L8.5-1.32Q8.2-1.07 7.86-0.73L7.86-0.73 7.47 10.5Q7.47 10.94 7.45 11.43 7.42 11.91 7.25 12.33 7.08 12.74 6.76 13.01 6.45 13.28 5.86 13.28L5.86 13.28Q5.57 13.28 5.08 13.16 4.59 13.04 4.15 12.79 3.71 12.55 3.39 12.21 3.08 11.87 3.08 11.43L3.08 11.43ZM7.03-13.28L7.23-5.71 7.42-5.71Q7.47-5.71 7.74-6.01 8.01-6.3 8.37-6.69 8.74-7.08 9.11-7.5 9.47-7.91 9.67-8.15L9.67-8.15Q11.13-9.23 12.35-10.84 13.57-12.45 14.33-14.09 15.09-15.72 15.26-17.04 15.43-18.36 14.82-18.87 14.21-19.38 12.72-18.75 11.23-18.12 8.69-15.82L8.69-15.82Q8.11-15.33 7.62-14.7 7.13-14.06 7.03-13.28L7.03-13.28ZM24.02-1.86L24.02-1.86Q23.53-6.74 23.19-10.21 22.85-13.67 22.6-16.02 22.36-18.36 22.19-19.75 22.02-21.14 21.92-21.85 21.82-22.56 21.77-22.8 21.73-23.05 21.73-23.1L21.73-23.1 21.73-23.29Q21.73-23.83 22.19-24.19 22.65-24.56 23.14-24.56L23.14-24.56Q23.87-24.56 24.73-24.32 25.58-24.07 25.88-23.29L25.88-23.29Q26.32-20.9 26.49-18.46 26.66-16.02 26.78-13.6 26.9-11.18 27.12-8.74 27.34-6.3 27.93-3.91L27.93-3.91Q27.93-3.81 28-3.52 28.07-3.22 28.15-2.88 28.22-2.54 28.27-2.25 28.32-1.95 28.32-1.86L28.32-1.86 28.32-1.76Q28.32-1.71 28.37-1.66L28.37-1.66Q28.37-1.07 27.83-0.49 27.29 0.1 26.71 0L26.71 0Q26.56-0.05 26-0.17 25.44-0.29 25.24-0.39L25.24-0.39Q25.1-0.44 24.85-0.61 24.61-0.78 24.39-0.98 24.17-1.17 24.02-1.42 23.87-1.66 24.02-1.86ZM21.29-37.45L21.29-37.45Q21.29-37.79 21.85-38.06 22.41-38.33 22.7-38.33L22.7-38.33Q23.43-38.33 24.34-37.92 25.24-37.5 25.24-36.67L25.24-36.67Q25.24-35.84 25.02-35.55 24.8-35.25 23.97-35.25L23.97-35.25Q23.09-35.25 22.19-35.84 21.29-36.43 21.29-37.45ZM42.43-7.71L42.43-7.71Q42.38-7.71 41.77-6.64 41.16-5.57 40.13-4.3 39.11-3.03 37.71-1.95 36.32-0.88 34.76-0.88L34.76-0.88Q32.61-0.88 31.17-2.2 29.73-3.52 29.73-5.81L29.73-5.81Q29.63-6.98 30.05-8.59 30.46-10.21 31.27-11.94 32.08-13.67 33.22-15.31 34.37-16.94 35.69-18.14 37.01-19.34 38.45-19.92 39.89-20.51 41.35-20.12L41.35-20.12 41.35-20.8Q41.35-22.07 41.28-23.41 41.21-24.76 41.13-26.49 41.06-28.22 40.99-30.49 40.91-32.76 40.91-35.94L40.91-35.94Q41.06-36.47 41.43-36.65 41.79-36.82 42.23-36.82L42.23-36.82Q43.35-36.82 44.01-36.08 44.67-35.35 44.82-34.28L44.82-34.28Q44.72-32.62 44.75-30.88 44.77-29.15 44.92-26.95 45.06-24.76 45.38-21.97 45.7-19.19 46.19-15.41 46.67-11.62 47.36-6.71 48.04-1.81 48.97 4.64L48.97 4.64 48.97 6.3Q48.97 6.59 48.75 6.74 48.53 6.88 48.21 6.96 47.9 7.03 47.58 7.06 47.26 7.08 47.11 7.08L47.11 7.08Q46.38 7.08 45.55 6.67 44.72 6.25 44.58 5.52L44.58 5.52 42.77-7.52Q42.77-7.67 42.65-7.69 42.52-7.71 42.43-7.71ZM33.83-6.64L33.83-6.64Q33.83-6.49 33.81-6.13 33.78-5.76 33.81-5.37 33.83-4.98 33.93-4.69 34.03-4.39 34.32-4.39L34.32-4.39Q35.54-4.35 36.84-5.32 38.13-6.3 39.2-7.74 40.28-9.18 40.99-10.84 41.69-12.5 41.77-13.82 41.84-15.14 41.13-15.84 40.42-16.55 38.72-16.16L38.72-16.16Q36.62-14.31 35.22-11.91 33.83-9.52 33.83-6.64ZM52.68 17.04L52.68 17.04Q52.48 16.5 52.7 15.82 52.92 15.14 53.61 14.94L53.61 14.94Q54.73 15.43 55.95 15.58 57.17 15.72 58.42 15.63 59.66 15.53 60.88 15.23 62.1 14.94 63.22 14.55L63.22 14.55Q64.35 13.62 64.79 12.13 65.23 10.64 65.13 8.08 65.03 5.52 64.47 1.68 63.91-2.15 63.03-7.71L63.03-7.71Q63.03-7.86 63.05-8.15 63.08-8.45 63.03-8.72 62.98-8.98 62.86-9.13 62.74-9.28 62.54-9.13L62.54-9.13Q61.91-7.91 61.05-6.47 60.2-5.03 59.1-3.78 58-2.54 56.66-1.71 55.31-0.88 53.65-0.88L53.65-0.88Q52.19-0.88 51.09-1.73 49.99-2.59 49.99-4.2L49.99-4.2Q49.99-5.42 50.51-7.28 51.02-9.13 51.9-11.21 52.78-13.28 53.95-15.33 55.12-17.38 56.39-19.04 57.66-20.7 58.98-21.75 60.3-22.8 61.52-22.8L61.52-22.8Q62-22.8 62.81-22.63 63.62-22.46 64.37-22.12 65.13-21.78 65.69-21.34 66.25-20.9 66.25-20.31L66.25-20.31 66.25-16.36 69.43 6.69Q69.43 8.64 69.35 10.42 69.28 12.21 68.72 13.72 68.16 15.23 66.94 16.41 65.72 17.58 63.42 18.31L63.42 18.31Q63.13 18.46 62.2 18.55 61.27 18.65 60.08 18.7 58.88 18.75 57.54 18.7 56.19 18.65 55.1 18.48 54 18.31 53.31 17.97 52.63 17.63 52.68 17.04ZM60.3-18.46L60.3-18.46Q59.81-17.92 59-16.75 58.2-15.58 57.37-14.16 56.54-12.74 55.73-11.21 54.92-9.67 54.44-8.35 53.95-7.03 53.83-6.1 53.7-5.18 54.24-4.98L54.24-4.98Q55.27-5.52 56.44-6.76 57.61-8.01 58.66-9.55 59.71-11.08 60.51-12.72 61.32-14.36 61.64-15.67 61.96-16.99 61.69-17.8 61.42-18.6 60.3-18.46ZM72.89-1.86L72.89-1.86Q72.4-6.74 72.06-10.21 71.72-13.67 71.47-16.02 71.23-18.36 71.06-19.75 70.89-21.14 70.79-21.85 70.69-22.56 70.64-22.8 70.6-23.05 70.6-23.1L70.6-23.1 70.6-23.29Q70.6-23.83 71.06-24.19 71.52-24.56 72.01-24.56L72.01-24.56Q72.74-24.56 73.6-24.32 74.45-24.07 74.75-23.29L74.75-23.29Q75.19-20.9 75.36-18.46 75.53-16.02 75.65-13.6 75.77-11.18 75.99-8.74 76.21-6.3 76.8-3.91L76.8-3.91Q76.8-3.81 76.87-3.52 76.94-3.22 77.02-2.88 77.09-2.54 77.14-2.25 77.19-1.95 77.19-1.86L77.19-1.86 77.19-1.76Q77.19-1.71 77.24-1.66L77.24-1.66Q77.24-1.07 76.7-0.49 76.16 0.1 75.58 0L75.58 0Q75.43-0.05 74.87-0.17 74.31-0.29 74.11-0.39L74.11-0.39Q73.96-0.44 73.72-0.61 73.48-0.78 73.26-0.98 73.04-1.17 72.89-1.42 72.74-1.66 72.89-1.86ZM70.16-37.45L70.16-37.45Q70.16-37.79 70.72-38.06 71.28-38.33 71.57-38.33L71.57-38.33Q72.3-38.33 73.21-37.92 74.11-37.5 74.11-36.67L74.11-36.67Q74.11-35.84 73.89-35.55 73.67-35.25 72.84-35.25L72.84-35.25Q71.96-35.25 71.06-35.84 70.16-36.43 70.16-37.45ZM92.96-1.66L92.96-1.66Q92.27-2.64 91.81-4.37 91.34-6.1 90.93-8.03 90.51-9.96 90.17-11.79 89.83-13.62 89.47-14.72 89.1-15.82 88.66-15.97 88.22-16.11 87.63-14.65L87.63-14.65 83.39-1.56Q83.14-0.88 82.8-0.61 82.46-0.34 81.68-0.34L81.68-0.34Q81.29-0.34 80.85-0.46 80.41-0.59 80.02-0.83 79.63-1.07 79.36-1.42 79.09-1.76 79.04-2.2L79.04-2.2Q79.19-2.78 79.31-4.35 79.43-5.91 79.48-7.96 79.53-10.01 79.55-12.28 79.58-14.55 79.55-16.53 79.53-18.51 79.48-19.95 79.43-21.39 79.38-21.83L79.38-21.83Q79.38-22.31 79.41-22.83 79.43-23.34 79.55-23.78 79.68-24.22 79.99-24.49 80.31-24.76 80.99-24.76L80.99-24.76Q81.92-24.76 82.73-23.97 83.53-23.19 83.53-22.31L83.53-22.31Q83.53-21.04 83.41-19.8 83.29-18.55 83.29-17.29L83.29-17.29Q83.29-16.5 83.29-15.97 83.29-15.43 83.48-14.65L83.48-14.65Q83.63-15.04 83.97-16.02 84.31-16.99 84.73-18.07 85.14-19.14 85.49-20.09 85.83-21.04 85.97-21.44L85.97-21.44Q86.32-22.41 87-23.32 87.68-24.22 88.81-24.32L88.81-24.32Q89.54-24.37 90.15-23.93 90.76-23.49 91.2-22.78 91.64-22.07 91.93-21.31 92.22-20.56 92.37-20.02L92.37-20.02 95.01-7.86 97.06-2.29Q97.11-2.25 97.11-2.03 97.11-1.81 97.11-1.71L97.11-1.71Q97.11-1.12 96.84-0.56 96.57 0 95.89 0L95.89 0Q95.06 0 94.18-0.46 93.3-0.93 92.96-1.66Z" opacity="1" transform="matrix(1,0,0,1,0,0)" fill="#f00b51" class="wordmark-text-0" data-fill-palette-color="primary" id="text-0"></path></svg></g></svg></g></svg></g></svg></g></svg></g></svg></g></svg></g><defs></defs></svg><rect width="395.52" height="232.94612903225806" fill="none" stroke="none" visibility="hidden"></rect></g></svg></g></svg>
      </a>
      
      <!-- Everything Else-->
      <ul class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0">
        <li class="nav-link px-2 text-secondary">
          <a class="nav-link btn btn-dark disabled rounded-5 text-light" href="{{ url_for('commfeed') }}">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-house" viewBox="0 0 16 16">
              <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293zM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5z"/>
            </svg>
          </a>
        </li>
        <li class="nav-link px-2 text-secondary">
          <a class="nav-link btn btn-dark disabled rounded-5 text-light" href="{{ url_for('explore_communities') }}">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-compass" viewBox="0 0 16 16">
              <path d="M8 16.016a7.5 7.5 0 0 0 1.962-14.74A1 1 0 0 0 9 0H7a1 1 0 0 0-.962 1.276A7.5 7.5 0 0 0 8 16.016m6.5-7.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0"/>
              <path d="m6.94 7.44 4.95-2.83-2.83 4.95-4.949 2.83 2.828-4.95z"/>
            </svg>
          </a>
        </li>
        <!-- <li class="nav-link px-2 text-secondary">
          <a class="nav-link text-light" href="{{ url_for('my_circles') }}">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-circle" viewBox="0 0 16 16">
              <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
            </svg>
          </a>
        </li> -->
        <li class="nav-link px-2 text-secondary">
          <div class="dropdown">
            <a class="nav-link btn btn-dark disabled rounded-5 text-light" id="notificationsDropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-bell" viewBox="0 0 16 16">
                <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2M8 1.918l-.797.161A4 4 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4 4 0 0 0-3.203-3.92zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5 5 0 0 1 13 6c0 .88.32 4.2 1.22 6"/>
              </svg>
            </a>
            <div class="dropdown-menu" aria-labelledby="notificationsDropdown">
              <!-- Add dynamic content for notifications here -->
              {% for notification in notifications %}
                <a class="dropdown-item" href="{{ url_for('show_post', post_id=notification.post_id) }}">
                  {{ notification.message }}
                </a>
              {% endfor %}
              {% if unread_notifications|length == 0 %}
                <span class="dropdown-item">No notifications</span>
              {% endif %}
            </div>
          </div>
        </li>
        <li class="nav-link px-2 text-secondary">
          <a class="nav-link btn btn-dark disabled rounded-5 text-light dropdown" href="{% if current_user.is_authenticated %} {{ url_for('show_profile', user_id=current_user.id) }} {% else %} {{ url_for('login') }} {% endif %}">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-file-person" viewBox="0 0 16 16">
              <path d="M12 1a1 1 0 0 1 1 1v10.755S12 11 8 11s-5 1.755-5 1.755V2a1 1 0 0 1 1-1zM4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>
              <path d="M8 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
            </svg>
          </a>
        </li>
        <!-- Only show Create Post button if user is logged in -->
        {% if logged_in %}
        <li class="nav-link px-2 text-secondary">
          <a class="nav-link btn btn-dark rounded-5 text-light" href="{{ url_for('post') }}" id="createpostbtn">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-plus-square" viewBox="0 0 16 16">
              <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>
              <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"/>
            </svg>
          </a>
        </li>
        {% endif %}
        <!-- Hide the Login/Registration navigation for logged-in users -->
        {% if not logged_in %}
          <li class="nav-link px-2 text-secondary">
            <a class="nav-link btn btn-dark rounded-5 text-light" href="{{ url_for('login') }}">Login</a>
          </li>
          <li class="nav-link px-2 text-secondary">
            <a class="nav-link btn btn-dark active rounded-5 text-light" href="{{ url_for('register') }}">Register</a>
          </li>
        {% endif %}
      </ul>
    </div>
  </div>
</header>


<style>
    #email {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-sizing: border-box;
      font-size: 16px;
    }

    #name, #validationCustomContact {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-sizing: border-box;
      font-size: 16px;
    }

    #validationCustomPassword, #validationCustomConfirmPass, #validationCustomEmail, #validationCustomLocation, #validationCustomName, #validationCustomContact {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-sizing: border-box;
      font-size: 16px;
    }

    #button {
      background-color: #f00b51;
      color: #fff;
      padding: 10px 15px;
      margin-top: 10px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
    }

    #reglink {
      margin-top: 10px;
    }
</style>

<div class="container">
  <div class="row justify-content-center">
    <div class="col-sm-12 col-md-6">
      <div class="card mt-5">
        <div class="card-body">
          <h2 class="card-title fw-bold">Who Are You?</h2>

          <form method="post" class="needs-validation" novalidate>
            {{ form.hidden_tag() }}
            
            <div class="form-group">
              <div class="char-counter-container">
                {{ form.email(class="form-control char-counter", id="validationCustomEmail", placeholder="Email") }}
                <small class="counter"><span data-target="email-counter">0</span>/40</small>
                <div class="invalid-feedback">
                  Please provide a valid email.
                </div>
              </div>
            </div>

            <div class="form-group">
                {{ form.password(class="form-control", id="validationCustomPassword", placeholder="Password") }}
                <div class="invalid-feedback">
                  Please create a password.
                </div>
            </div>

            <div class="form-group">
                {{ form.confirm_password(class="form-control", id="validationCustomConfirmPass", placeholder="Confirm Password") }}
                <div class="invalid-feedback">
                  Passwords do not match.
                </div>
            </div>

            <div class="form-group">
              <div class="char-counter-container">
                {{ form.name(class="form-control char-counter", id="validationCustomName", placeholder="Name") }}
                <small class="counter"><span data-target="name-counter">0</span>/50</small>
                <div class="invalid-feedback">
                  Please enter your name.
                </div>
              </div>
            </div>

            <div class="form-group">
              {{ form.location(class="form-control", id="validationCustomLocation", placeholder="Select Anchor Point...") }}
              <div class="invalid-feedback">
                Please select an Anchor Point.
              </div>
            </div>

            <div class="form-group">
              {{ form.contactinfo(class="form-control", id="validationCustomContact", placeholder="Preferred method(s) of contact e.g. phone number, email, IG, etc.") }}
              <div class="invalid-feedback">
                Please provide a valid method of communication.
              </div>
            </div>

            <div class="form-group">
              {{ form.visibility(class="form-control", id="email", placeholder="Profile Visibility") }}
            </div>

            <div class="form-group">
              {{ form.submit(class="btn btn-primary", id="button") }}
            </div>

            <div class="form-group" id="reglink">
              Already have an account? <a href="{{ url_for('login') }}">
                Login
              </a>
            </div>

          </form>

        </div>
      </div>
    </div>
  </div>
</div>

<script>
  if ( window.history.replaceState ) {
      window.history.replaceState( null, null, window.location.href );
  }

  (() => {
  'use strict'

  // Fetch all the forms we want to apply custom Bootstrap validation styles to
  const forms = document.querySelectorAll('.needs-validation')

  // Loop over them and prevent submission
  Array.from(forms).forEach(form => {
    form.addEventListener('submit', event => {
      if (!form.checkValidity()) {
        event.preventDefault()
        event.stopPropagation()
      }

      form.classList.add('was-validated')
    }, false)
  })
})()
</script>

<!--Notis-->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    var notificationsDropdown = new bootstrap.Dropdown(document.getElementById('notificationsDropdown'));
  });
</script>

<script>
  document.addEventListener("click", function (event) {
      const notificationsDropdown = document.getElementById("notificationsDropdown");
      const dropdownMenu = document.querySelector(".dropdown-menu");

      if (!notificationsDropdown.contains(event.target) && !dropdownMenu.contains(event.target)) {
          // Clicked outside the dropdown, close it
          dropdownMenu.classList.remove("show");
      }
  });
</script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
      const textareas = document.querySelectorAll('.char-counter');
  
      textareas.forEach(textarea => {
          const counter = document.querySelector(`[data-target="${textarea.id}-counter"]`);
  
          textarea.addEventListener('input', function () {
              const charCount = this.value.length;
              counter.textContent = charCount;
          });
      });
  });
  </script>

{% endblock %}