{% extends 'base.html' %}
{% from 'bootstrap5/form.html' import render_form %}

{% block title %}Make a Post!{% endblock %}
{% block content %}

<header class="header-fixed-top bg-dark text-white fixed-top">
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCu4LpF63EcRKbH60CU1ij85xH23NGAkno&libraries=places" async defer></script>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" integrity="sha384-vFJXuSJphROIrBnz7yo7oB41mKfc8JzQZiCq4NCceLEaO4IHwicKwpJf9c9IpFgh" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js" integrity="sha384-alpBpkh1PFOepccYVYDB4do5UnbKysX5WZXm3XxPqe5iKTfUKjNkCk9SaVuEZflJ" crossorigin="anonymous"></script>
  <div class="container">
    <div class="d-flex align-items-center justify-content-between py-0.5">
      <!-- The Function -->
      <a class="d-flex align-items-center col-md-2 mb-2 mb-md-0 text-dark" href="{{ url_for('commfeed') }}">
        <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="256" zoomAndPan="magnify" viewBox="0 0 375 112.499997" height="64" preserveAspectRatio="xMidYMid meet" version="1.0"><defs><g/><clipPath id="ac0826390c"><path d="M 12.027344 15.992188 L 83.535156 15.992188 L 83.535156 100.90625 L 12.027344 100.90625 Z M 12.027344 15.992188 " clip-rule="nonzero"/></clipPath><clipPath id="a51d7b24a5"><path d="M 83.535156 71.335938 L 83.535156 45.460938 C 83.535156 29.183594 70.644531 15.992188 56.21875 15.992188 C 45.941406 15.992188 36.015625 22.90625 31.410156 32.898438 L 12.027344 32.898438 L 28.667969 52.914062 L 28.667969 71.335938 C 28.667969 87.613281 41.554688 100.804688 56.21875 100.804688 C 70.644531 100.804688 83.535156 87.613281 83.535156 71.335938 Z M 83.535156 71.335938 " clip-rule="nonzero"/></clipPath><clipPath id="88a4646e1c"><path d="M 65 74 L 97 74 L 97 92 L 65 92 Z M 65 74 " clip-rule="nonzero"/></clipPath><clipPath id="4525b8c12e"><path d="M 98.226562 79.445312 L 67.171875 94.175781 L 63.480469 86.398438 L 94.539062 71.667969 Z M 98.226562 79.445312 " clip-rule="nonzero"/></clipPath><clipPath id="d2ce541c77"><path d="M 80.464844 87.871094 C 73.132812 91.351562 66.359375 92.429688 65.339844 90.28125 C 64.320312 88.132812 69.441406 83.570312 76.777344 80.09375 L 81.257812 77.96875 C 88.589844 74.488281 95.363281 73.410156 96.382812 75.558594 C 97.402344 77.707031 92.28125 82.265625 84.949219 85.746094 Z M 80.464844 87.871094 " clip-rule="nonzero"/></clipPath><clipPath id="6b6996f2b6"><path d="M 64 70 L 89 70 L 89 91 L 64 91 Z M 64 70 " clip-rule="nonzero"/></clipPath><clipPath id="9badc5bfcc"><path d="M 91.308594 75.628906 L 67.789062 93.28125 L 61.714844 85.1875 L 85.234375 67.535156 Z M 91.308594 75.628906 " clip-rule="nonzero"/></clipPath><clipPath id="307627f127"><path d="M 79.554688 84.453125 C 73.058594 89.324219 66.4375 91.460938 64.761719 89.226562 C 63.082031 86.992188 66.988281 81.230469 73.480469 76.359375 C 79.972656 71.484375 86.59375 69.347656 88.273438 71.582031 C 89.949219 73.816406 86.046875 79.578125 79.554688 84.453125 Z M 79.554688 84.453125 " clip-rule="nonzero"/></clipPath><clipPath id="fcf8ba1099"><path d="M 66 81 L 104 81 L 104 94 L 66 94 Z M 66 81 " clip-rule="nonzero"/></clipPath><clipPath id="02aade37c6"><path d="M 104.085938 88.859375 L 67.832031 95.058594 L 66.148438 85.207031 L 102.398438 79.007812 Z M 104.085938 88.859375 " clip-rule="nonzero"/></clipPath><clipPath id="2e53193956"><path d="M 83.523438 92.375 C 74.863281 93.855469 67.460938 92.851562 66.996094 90.132812 C 66.53125 87.410156 73.175781 84.003906 81.839844 82.523438 L 86.714844 81.6875 C 95.378906 80.207031 102.777344 81.210938 103.242188 83.933594 C 103.707031 86.652344 97.0625 90.058594 88.398438 91.542969 Z M 83.523438 92.375 " clip-rule="nonzero"/></clipPath><clipPath id="211131f4ff"><path d="M 45 24 L 55 24 L 55 34 L 45 34 Z M 45 24 " clip-rule="nonzero"/></clipPath><clipPath id="0819c02ab2"><path d="M 45.476562 24.480469 L 54.726562 24.480469 L 54.726562 33.734375 L 45.476562 33.730469 Z M 45.476562 24.480469 " clip-rule="nonzero"/></clipPath><clipPath id="6a5ad30c32"><path d="M 50.101562 24.480469 C 47.546875 24.480469 45.476562 26.550781 45.476562 29.105469 C 45.476562 31.660156 47.546875 33.734375 50.101562 33.734375 C 52.65625 33.734375 54.726562 31.660156 54.726562 29.105469 C 54.726562 26.550781 52.65625 24.480469 50.101562 24.480469 Z M 50.101562 24.480469 " clip-rule="nonzero"/></clipPath><clipPath id="3d6e0bd27b"><path d="M 32.5625 55.402344 L 46.734375 55.402344 L 46.734375 82.25 L 32.5625 82.25 Z M 32.5625 55.402344 " clip-rule="nonzero"/></clipPath><clipPath id="1c14b4a00a"><path d="M 39.648438 55.402344 C 43.5625 55.402344 46.734375 58.574219 46.734375 62.488281 L 46.734375 75.121094 C 46.734375 79.035156 43.5625 82.207031 39.648438 82.207031 C 35.734375 82.207031 32.5625 79.035156 32.5625 75.121094 L 32.5625 62.488281 C 32.5625 58.574219 35.734375 55.402344 39.648438 55.402344 Z M 39.648438 55.402344 " clip-rule="nonzero"/></clipPath><clipPath id="9881571762"><path d="M 55 43 L 80 43 L 80 91 L 55 91 Z M 55 43 " clip-rule="nonzero"/></clipPath><clipPath id="a00fb70dbe"><path d="M 52.097656 45.308594 L 74.726562 41.496094 L 82.683594 88.699219 L 60.050781 92.515625 Z M 52.097656 45.308594 " clip-rule="nonzero"/></clipPath><clipPath id="21bfd3e6fe"><path d="M 63.414062 43.402344 C 57.164062 44.453125 53.875 55.859375 56.066406 68.875 C 58.261719 81.886719 65.105469 91.585938 71.355469 90.53125 C 77.605469 89.480469 80.890625 78.074219 78.699219 65.058594 C 76.507812 52.046875 69.664062 42.347656 63.414062 43.402344 Z M 63.414062 43.402344 " clip-rule="nonzero"/></clipPath><clipPath id="9fff812278"><path d="M 60 54 L 88 54 L 88 83 L 60 83 Z M 60 54 " clip-rule="nonzero"/></clipPath><clipPath id="9243160b71"><path d="M 55.957031 61.5 L 69.660156 49.496094 L 92.359375 75.40625 L 78.652344 87.410156 Z M 55.957031 61.5 " clip-rule="nonzero"/></clipPath><clipPath id="e95fa4143b"><path d="M 62.808594 55.496094 C 59.023438 58.8125 61.035156 67.300781 67.300781 74.453125 C 73.566406 81.605469 81.714844 84.714844 85.5 81.402344 C 89.285156 78.085938 87.273438 69.597656 81.007812 62.445312 C 74.738281 55.292969 66.59375 52.183594 62.808594 55.496094 Z M 62.808594 55.496094 " clip-rule="nonzero"/></clipPath><clipPath id="7a3c04a47b"><path d="M 60 42 L 87 42 L 87 68 L 60 68 Z M 60 42 " clip-rule="nonzero"/></clipPath><clipPath id="c6c0d3f7bf"><path d="M 56.902344 49.207031 L 66.574219 38.957031 L 90.558594 61.59375 L 80.882812 71.84375 Z M 56.902344 49.207031 " clip-rule="nonzero"/></clipPath><clipPath id="759b86d7e2"><path d="M 61.738281 44.082031 C 59.066406 46.914062 62.269531 54.273438 68.890625 60.523438 C 75.511719 66.773438 83.046875 69.546875 85.71875 66.71875 C 88.390625 63.886719 85.1875 56.527344 78.566406 50.273438 C 71.941406 44.023438 64.410156 41.253906 61.738281 44.082031 Z M 61.738281 44.082031 " clip-rule="nonzero"/></clipPath></defs><g clip-path="url(#ac0826390c)"><g clip-path="url(#a51d7b24a5)"><path fill="#f00b51" d="M 83.535156 15.992188 L 83.535156 100.90625 L 12.027344 100.90625 L 12.027344 15.992188 Z M 83.535156 15.992188 " fill-opacity="1" fill-rule="nonzero"/></g></g><g clip-path="url(#88a4646e1c)"><g clip-path="url(#4525b8c12e)"><g clip-path="url(#d2ce541c77)"><path fill="#f00b51" d="M 98.226562 79.445312 L 67.171875 94.175781 L 63.480469 86.398438 L 94.539062 71.667969 Z M 98.226562 79.445312 " fill-opacity="1" fill-rule="nonzero"/></g></g></g><g clip-path="url(#6b6996f2b6)"><g clip-path="url(#9badc5bfcc)"><g clip-path="url(#307627f127)"><path fill="#f00b51" d="M 91.308594 75.628906 L 67.789062 93.28125 L 61.714844 85.1875 L 85.234375 67.535156 Z M 91.308594 75.628906 " fill-opacity="1" fill-rule="nonzero"/></g></g></g><g clip-path="url(#fcf8ba1099)"><g clip-path="url(#02aade37c6)"><g clip-path="url(#2e53193956)"><path fill="#f00b51" d="M 104.085938 88.859375 L 67.832031 95.058594 L 66.148438 85.207031 L 102.398438 79.007812 Z M 104.085938 88.859375 " fill-opacity="1" fill-rule="nonzero"/></g></g></g><g clip-path="url(#211131f4ff)"><g clip-path="url(#0819c02ab2)"><g clip-path="url(#6a5ad30c32)"><path fill="#ffffff" d="M 45.476562 24.480469 L 54.726562 24.480469 L 54.726562 33.734375 L 45.476562 33.730469 Z M 45.476562 24.480469 " fill-opacity="1" fill-rule="nonzero"/></g></g></g><g clip-path="url(#3d6e0bd27b)"><g clip-path="url(#1c14b4a00a)"><path fill="#d60f4b" d="M 32.5625 55.402344 L 46.734375 55.402344 L 46.734375 82.195312 L 32.5625 82.195312 Z M 32.5625 55.402344 " fill-opacity="1" fill-rule="nonzero"/></g></g><g clip-path="url(#9881571762)"><g clip-path="url(#a00fb70dbe)"><g clip-path="url(#21bfd3e6fe)"><path fill="#c60b44" d="M 52.097656 45.308594 L 74.726562 41.496094 L 82.667969 88.613281 L 60.035156 92.425781 Z M 52.097656 45.308594 " fill-opacity="1" fill-rule="nonzero"/></g></g></g><g clip-path="url(#9fff812278)"><g clip-path="url(#9243160b71)"><g clip-path="url(#e95fa4143b)"><path fill="#c60b44" d="M 55.957031 61.5 L 69.660156 49.496094 L 92.359375 75.40625 L 78.652344 87.410156 Z M 55.957031 61.5 " fill-opacity="1" fill-rule="nonzero"/></g></g></g><g clip-path="url(#7a3c04a47b)"><g clip-path="url(#c6c0d3f7bf)"><g clip-path="url(#759b86d7e2)"><path fill="#c60b44" d="M 56.902344 49.207031 L 66.574219 38.957031 L 90.558594 61.59375 L 80.882812 71.84375 Z M 56.902344 49.207031 " fill-opacity="1" fill-rule="nonzero"/></g></g></g><g fill="#f00b51" fill-opacity="1"><g transform="translate(121.883357, 77.567509)"><g><path d="M 45.648438 -24.121094 C 42.96875 -17.253906 38.109375 -12.816406 32.332031 -10.722656 L 33.085938 -12.480469 C 35.429688 -18.847656 37.859375 -25.796875 40.203125 -32.246094 C 40.707031 -33.671875 40.957031 -35.09375 40.957031 -36.601562 C 40.957031 -43.386719 35.347656 -49.167969 28.8125 -49.167969 C 26.550781 -49.167969 23.871094 -48.746094 22.027344 -47.242188 C 22.195312 -49.25 19.433594 -50.84375 16.417969 -50.84375 C 13.652344 -50.84375 10.972656 -49.335938 9.714844 -45.816406 L -11.140625 13.148438 C -11.558594 14.238281 -11.726562 15.160156 -11.726562 16 C -11.726562 19.433594 -8.878906 21.191406 -5.863281 21.191406 C -3.097656 21.191406 -0.335938 19.851562 0.671875 16.75 L 7.371094 -3.097656 C 9.96875 -1.089844 14.992188 0 21.945312 0 C 38.195312 0 50.339844 -6.449219 55.867188 -22.28125 C 56.117188 -23.035156 56.285156 -23.703125 56.285156 -24.289062 C 56.285156 -27.054688 53.941406 -28.730469 51.429688 -28.730469 C 49.167969 -28.730469 46.652344 -27.304688 45.648438 -24.121094 Z M 11.808594 -15.410156 L 18.511719 -34.84375 C 19.515625 -37.859375 21.695312 -39.28125 24.039062 -39.28125 C 26.050781 -39.28125 27.890625 -37.859375 27.890625 -35.765625 C 27.890625 -35.011719 27.722656 -34.257812 27.472656 -33.421875 C 25.378906 -26.804688 23.035156 -20.605469 20.773438 -14.070312 C 19.851562 -11.558594 17.589844 -10.050781 15.328125 -9.96875 C 13.148438 -9.96875 11.476562 -11.140625 11.476562 -13.484375 C 11.476562 -14.070312 11.558594 -14.742188 11.808594 -15.410156 Z M 11.808594 -15.410156 "/></g></g></g><g fill="#f00b51" fill-opacity="1"><g transform="translate(164.766019, 77.567509)"><g><path d="M 22.53125 -56.871094 C 26.300781 -56.871094 29.398438 -59.972656 29.398438 -63.824219 C 29.398438 -67.59375 26.300781 -70.609375 22.53125 -70.609375 C 18.761719 -70.609375 15.664062 -67.59375 15.664062 -63.824219 C 15.664062 -59.972656 18.761719 -56.871094 22.53125 -56.871094 Z M 11.222656 -14.15625 L 20.4375 -40.457031 C 20.773438 -41.542969 21.191406 -42.71875 21.191406 -43.554688 C 21.191406 -47.242188 18.425781 -49.167969 15.578125 -49.167969 C 12.984375 -49.167969 10.21875 -47.324219 8.878906 -43.386719 C 6.199219 -35.515625 2.679688 -25.546875 0 -17.757812 C -0.503906 -16.082031 -1.171875 -13.820312 -1.171875 -12.394531 C -1.171875 -4.523438 5.359375 0 13.066406 0 C 21.273438 0 30.320312 -5.027344 36.183594 -22.363281 C 36.351562 -22.867188 36.433594 -23.367188 36.433594 -23.871094 C 36.433594 -26.46875 33.921875 -28.058594 31.410156 -28.058594 C 29.148438 -28.058594 26.886719 -26.886719 25.882812 -24.289062 C 21.945312 -13.402344 17.503906 -9.96875 14.15625 -9.96875 C 12.230469 -9.96875 10.972656 -11.222656 10.972656 -12.816406 C 10.972656 -13.234375 11.054688 -13.652344 11.222656 -14.15625 Z M 11.222656 -14.15625 "/></g></g></g><g fill="#f00b51" fill-opacity="1"><g transform="translate(187.882456, 77.567509)"><g><path d="M 53.269531 -28.144531 C 51.007812 -28.144531 48.664062 -26.96875 47.910156 -24.289062 C 44.140625 -14.238281 39.617188 -9.96875 35.847656 -9.96875 C 34.175781 -9.96875 33.253906 -11.140625 33.253906 -12.480469 C 33.253906 -12.984375 33.335938 -13.484375 33.671875 -14.492188 L 50.757812 -63.824219 C 51.09375 -64.828125 51.511719 -66.253906 51.511719 -67.175781 C 51.511719 -70.777344 48.582031 -72.703125 45.648438 -72.703125 C 43.050781 -72.703125 40.625 -70.777344 39.117188 -66.421875 L 31.492188 -44.8125 C 28.980469 -47.574219 25.296875 -49.167969 21.359375 -49.167969 C 15.914062 -49.167969 10.050781 -46.152344 7.789062 -39.785156 L -0.167969 -17.171875 C -0.753906 -15.578125 -1.003906 -13.902344 -1.003906 -12.394531 C -1.003906 -5.027344 4.941406 0 12.144531 0 C 16.082031 0 20.4375 -1.339844 23.789062 -4.605469 C 26.382812 -1.757812 30.40625 0 34.59375 0 C 42.886719 0 52.433594 -5.945312 58.046875 -22.363281 C 58.210938 -22.949219 58.378906 -23.535156 58.378906 -24.039062 C 58.378906 -26.636719 55.867188 -28.144531 53.269531 -28.144531 Z M 13.988281 -12.898438 C 12.394531 -13.316406 11.976562 -14.574219 11.976562 -15.914062 C 11.976562 -17.003906 12.230469 -18.007812 12.480469 -18.761719 L 17.253906 -32.75 C 18.929688 -37.691406 21.191406 -38.53125 22.53125 -38.53125 C 24.121094 -38.53125 25.882812 -36.9375 25.882812 -34.089844 C 25.882812 -32.832031 25.628906 -31.242188 24.875 -29.148438 L 21.441406 -19.515625 C 18.929688 -13.316406 15.578125 -12.5625 13.988281 -12.898438 Z M 13.988281 -12.898438 "/></g></g></g><g fill="#f00b51" fill-opacity="1"><g transform="translate(232.858992, 77.567509)"><g><path d="M 32.078125 -7.285156 L 43.636719 -39.703125 C 44.226562 -41.460938 44.476562 -42.886719 44.476562 -43.972656 C 44.476562 -47.742188 41.878906 -48.496094 40.789062 -48.914062 C 40.289062 -49.082031 39.703125 -49.167969 39.117188 -49.167969 C 36.601562 -49.167969 34.007812 -47.910156 33 -44.980469 C 30.152344 -47.996094 26.96875 -49.167969 22.53125 -49.167969 C 16.332031 -49.167969 9.800781 -45.648438 7.035156 -37.859375 L -0.0820312 -17.589844 C -0.671875 -15.832031 -1.003906 -13.988281 -1.003906 -12.3125 C -1.003906 -5.695312 3.601562 -1.257812 9.296875 0 C 1.507812 1.507812 -8.460938 4.523438 -10.972656 12.816406 C -11.390625 14.238281 -11.558594 15.496094 -11.558594 16.75 C -11.558594 24.875 -4.019531 30.238281 4.1875 30.238281 C 12.480469 30.238281 20.269531 25.796875 23.703125 16.082031 L 27.558594 5.445312 C 39.535156 1.675781 51.847656 -4.859375 57.625 -22.449219 C 57.878906 -23.117188 57.960938 -23.789062 57.960938 -24.375 C 57.960938 -27.222656 55.785156 -28.898438 53.269531 -28.898438 C 51.007812 -28.898438 48.582031 -27.472656 47.40625 -24.207031 C 44.308594 -15.664062 38.695312 -10.636719 32.078125 -7.285156 Z M 28.476562 -33.167969 L 22.113281 -15.496094 C 20.4375 -12.3125 17.589844 -9.96875 14.742188 -9.96875 C 12.730469 -9.96875 11.222656 -10.972656 11.222656 -12.816406 C 11.222656 -13.234375 11.390625 -13.902344 11.558594 -14.492188 L 19.097656 -35.765625 C 19.933594 -38.109375 21.859375 -39.28125 23.703125 -39.28125 C 26.300781 -39.28125 28.5625 -37.355469 28.5625 -34.339844 C 28.5625 -34.007812 28.5625 -33.585938 28.476562 -33.167969 Z M 12.230469 9.296875 L 10.21875 14.992188 C 9.046875 18.09375 6.449219 19.683594 3.9375 19.683594 C 2.011719 19.683594 1.089844 18.511719 1.089844 17.003906 C 1.089844 16.5 1.257812 15.832031 1.507812 15.246094 C 2.679688 12.3125 6.785156 10.722656 12.230469 9.296875 Z M 12.230469 9.296875 "/></g></g></g><g fill="#f00b51" fill-opacity="1"><g transform="translate(277.584273, 77.567509)"><g><path d="M 22.53125 -56.871094 C 26.300781 -56.871094 29.398438 -59.972656 29.398438 -63.824219 C 29.398438 -67.59375 26.300781 -70.609375 22.53125 -70.609375 C 18.761719 -70.609375 15.664062 -67.59375 15.664062 -63.824219 C 15.664062 -59.972656 18.761719 -56.871094 22.53125 -56.871094 Z M 11.222656 -14.15625 L 20.4375 -40.457031 C 20.773438 -41.542969 21.191406 -42.71875 21.191406 -43.554688 C 21.191406 -47.242188 18.425781 -49.167969 15.578125 -49.167969 C 12.984375 -49.167969 10.21875 -47.324219 8.878906 -43.386719 C 6.199219 -35.515625 2.679688 -25.546875 0 -17.757812 C -0.503906 -16.082031 -1.171875 -13.820312 -1.171875 -12.394531 C -1.171875 -4.523438 5.359375 0 13.066406 0 C 21.273438 0 30.320312 -5.027344 36.183594 -22.363281 C 36.351562 -22.867188 36.433594 -23.367188 36.433594 -23.871094 C 36.433594 -26.46875 33.921875 -28.058594 31.410156 -28.058594 C 29.148438 -28.058594 26.886719 -26.886719 25.882812 -24.289062 C 21.945312 -13.402344 17.503906 -9.96875 14.15625 -9.96875 C 12.230469 -9.96875 10.972656 -11.222656 10.972656 -12.816406 C 10.972656 -13.234375 11.054688 -13.652344 11.222656 -14.15625 Z M 11.222656 -14.15625 "/></g></g></g><g fill="#f00b51" fill-opacity="1"><g transform="translate(300.70071, 77.567509)"><g><path d="M 46.738281 -24.121094 C 43.050781 -14.070312 38.445312 -9.96875 34.507812 -9.96875 C 33 -9.96875 32.164062 -10.722656 32.164062 -12.144531 C 32.164062 -12.730469 32.332031 -13.402344 32.582031 -14.238281 L 39.117188 -32.832031 C 39.703125 -34.507812 40.035156 -36.015625 40.035156 -37.441406 C 40.035156 -44.140625 34.339844 -49.167969 27.640625 -49.167969 C 24.375 -49.167969 21.777344 -48.414062 19.601562 -46.820312 C 19.097656 -48.328125 17.003906 -49.167969 14.742188 -49.167969 C 12.394531 -49.167969 10.136719 -48.078125 9.296875 -45.734375 L -4.691406 -6.617188 C -4.941406 -5.863281 -5.027344 -5.191406 -5.027344 -4.523438 C -5.027344 -1.425781 -2.597656 0.167969 0.0820312 0.167969 C 3.015625 0.167969 6.367188 -1.675781 7.621094 -5.445312 C 10.554688 -13.570312 14.574219 -25.042969 17.421875 -33.085938 C 19.683594 -37.273438 22.613281 -39.28125 24.960938 -39.28125 C 26.46875 -39.28125 27.558594 -38.277344 27.558594 -36.6875 C 27.558594 -36.101562 27.390625 -35.347656 27.136719 -34.59375 L 21.023438 -17.339844 C 20.355469 -15.410156 19.933594 -13.570312 19.933594 -11.808594 C 19.933594 -4.105469 26.300781 0 33.421875 0 C 41.964844 0 51.09375 -5.78125 56.871094 -22.113281 C 57.125 -22.78125 57.292969 -23.453125 57.292969 -24.039062 C 57.292969 -26.71875 54.863281 -28.144531 52.351562 -28.144531 C 50.089844 -28.144531 47.574219 -26.886719 46.738281 -24.121094 Z M 46.738281 -24.121094 "/></g></g></g></svg>      </a>


      <!-- Everything Else-->
      <ul class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0">
        <li class="nav-link px-2 text-secondary">
          <a class="nav-link btn btn-dark rounded-5 text-light" href="{{ url_for('commfeed') }}">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-house" viewBox="0 0 16 16">
              <path d="M8.707 1.5a1 1 0 0 0-1.414 0L.646 8.146a.5.5 0 0 0 .708.708L2 8.207V13.5A1.5 1.5 0 0 0 3.5 15h9a1.5 1.5 0 0 0 1.5-1.5V8.207l.646.647a.5.5 0 0 0 .708-.708L13 5.793V2.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5v1.293zM13 7.207V13.5a.5.5 0 0 1-.5.5h-9a.5.5 0 0 1-.5-.5V7.207l5-5z"/>
            </svg>
          </a>
        </li>
        <li class="nav-link px-2 text-secondary">
          <a class="nav-link btn btn-dark rounded-5 text-light" href="{{ url_for('explore_communities') }}">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-compass" viewBox="0 0 16 16">
              <path d="M8 16.016a7.5 7.5 0 0 0 1.962-14.74A1 1 0 0 0 9 0H7a1 1 0 0 0-.962 1.276A7.5 7.5 0 0 0 8 16.016m6.5-7.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0"/>
              <path d="m6.94 7.44 4.95-2.83-2.83 4.95-4.949 2.83 2.828-4.95z"/>
            </svg>
          </a>
        </li>
        <!-- <li class="nav-link px-2 text-secondary">
          <a class="nav-link text-light" href="{{ url_for('my_circles') }}">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-circle" viewBox="0 0 16 16">
              <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16"/>
            </svg>
          </a>
        </li> -->
        <li class="nav-link px-2 text-secondary">
          <div class="dropdown">
            <a class="nav-link btn btn-dark rounded-5 text-light" id="notificationsDropdown" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-bell" viewBox="0 0 16 16">
                <path d="M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2M8 1.918l-.797.161A4 4 0 0 0 4 6c0 .628-.134 2.197-.459 3.742-.16.767-.376 1.566-.663 2.258h10.244c-.287-.692-.502-1.49-.663-2.258C12.134 8.197 12 6.628 12 6a4 4 0 0 0-3.203-3.92zM14.22 12c.223.447.481.801.78 1H1c.299-.199.557-.553.78-1C2.68 10.2 3 6.88 3 6c0-2.42 1.72-4.44 4.005-4.901a1 1 0 1 1 1.99 0A5 5 0 0 1 13 6c0 .88.32 4.2 1.22 6"/>
              </svg>
            </a>
            <div class="dropdown-menu" aria-labelledby="notificationsDropdown">
              <!-- Add dynamic content for notifications here -->
              {% for notification in notifications %}
                <a class="dropdown-item" href="{{ url_for('show_post', post_id=notification.post_id) }}">
                  {{ notification.message }}
                </a>
              {% endfor %}
              {% if unread_notifications|length == 0 %}
                <span class="dropdown-item">No notifications</span>
              {% endif %}
            </div>
          </div>
        </li>
        <li class="nav-link px-2 text-secondary">
          <a class="nav-link btn btn-dark rounded-5 text-light dropdown" href="{% if current_user.is_authenticated %} {{ url_for('show_profile', user_id=current_user.id) }} {% else %} {{ url_for('login') }} {% endif %}">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-file-person" viewBox="0 0 16 16">
              <path d="M12 1a1 1 0 0 1 1 1v10.755S12 11 8 11s-5 1.755-5 1.755V2a1 1 0 0 1 1-1zM4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>
              <path d="M8 10a3 3 0 1 0 0-6 3 3 0 0 0 0 6"/>
            </svg>
          </a>
        </li>
        <!-- Only show Create Post button if user is logged in -->
        {% if logged_in %}
        <li class="nav-link px-2 text-secondary">
          <a class="nav-link btn btn-dark active rounded-5 text-light" href="{{ url_for('post') }}" id="createpostbtn">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-plus-square" viewBox="0 0 16 16">
              <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/>
              <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"/>
            </svg>
          </a>
        </li>
        {% endif %}
        <!-- Hide the Login/Registration navigation for logged-in users -->
        {% if not logged_in %}
          <li class="nav-link px-2 text-secondary">
            <a class="nav-link btn btn-dark rounded-5 text-light" href="{{ url_for('login') }}">Login</a>
          </li>
          <li class="nav-link px-2 text-secondary">
            <a class="nav-link btn btn-dark rounded-5 text-light" href="{{ url_for('register') }}">Register</a>
          </li>
        {% endif %}
      </ul>
    </div>
  </div>
</header>

<main class="mb-4">

  <div class="container mt-5 justify-content-center">
    <div class="p-2 p-md-2 mb-0.5 rounded text-body-emphasis bg-dark">
      <div class="container text-center">
        <h1 class="text-light"> 
          Post
        </h1>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="row justify-content-center">
      <div class="col-sm-12 col-md-6">
        <div class="card mt-2 bg-dark">
          <div class="card-body text-white">

            <form method="post" enctype="multipart/form-data">
              {{ form.hidden_tag() }}
              
              <div class="form-group">
                <div class="char-counter-container">
                  {{ form.title(class="form-control char-counter", id="title", placeholder="Title") }}
                  <small class="counter"><span data-target="title-counter">0</span>/20</small>
                </div>
              </div>

              <div class="form-group">
                <div class="char-counter-container">
                  {{ form.postto(class="form-control char-counter", id="postto", placeholder="Post to...") }}
                  <small class="counter"><span data-target="postto-counter">0</span>/50</small>
                </div>
              </div>

              <div class="form-group">
                <div class="char-counter-container">
                {{ form.postedfrom(class="form-control char-counter", id="postedfrom", placeholder="Posted From...") }}
                <small class="counter"><span data-target="postedfrom-counter">0</span>/50</small>
                </div>
              </div>

              <div class="form-group">
                {{ form.photo(class="form-control", id="photo", placeholder="Upload Photo") }}
              </div>

              <div class="form-group">
                <!-- Add a rounded container for CKEditor -->
                <div class="char-counter-container">
                  {{ form.content(class="form-control char-counter", id="content", placeholder="Say Something") }}
                  <small class="counter"><span data-target="content-counter">0</span>/300</small>
                </div>
              </div>

              <div class="form-group">
                {{ form.submit(class="btn btn-outline-light", id="button") }}
                <a class="btn btn-outline-light" href="{{ url_for('commfeed') }}" id="button">Cancel</a>
              </div>

            </form>

          </div>
        </div>
      </div>
    </div>
  </div>
</main>

<style>
  #title {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-sizing: border-box;
      font-size: 16px;
  }

  #postto {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-sizing: border-box;
      font-size: 16px;
  }

  #postedfrom {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-sizing: border-box;
      font-size: 16px;
  }

  #photo {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-sizing: border-box;
      font-size: 16px;
  }

  #content {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
      box-sizing: border-box;
      font-size: 16px;
  }

  #button {
      color: #f00b51;
      padding: 10px 15px;
      margin-top: 10px;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
      font-weight: bold;
  }

  /* Style CKEditor to fit in a rounded container */
  .rounded-ckeditor-container {
    border-radius: 5px;
    overflow: hidden;
    margin-top: 10px;
  }

  #backToTopBtn {
    display: none;
    position: fixed;
    background-color:#f00b51;
    bottom: 20px;
    right: 20px;
    z-index: 99;
  }

  .counter {
    display: block;
    margin-top: 5px;
    font-size: 12px;
    color: #888;
  }
</style>

<script>
  if ( window.history.replaceState ) {
      window.history.replaceState( null, null, window.location.href );
  }
</script>

<!--Notis-->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    var notificationsDropdown = new bootstrap.Dropdown(document.getElementById('notificationsDropdown'));
  });
</script>

<script>
  document.addEventListener("click", function (event) {
      const notificationsDropdown = document.getElementById("notificationsDropdown");
      const dropdownMenu = document.querySelector(".dropdown-menu");

      if (!notificationsDropdown.contains(event.target) && !dropdownMenu.contains(event.target)) {
          // Clicked outside the dropdown, close it
          dropdownMenu.classList.remove("show");
      }
  });
</script>

<!-- Back to Top -->
<button onclick="topFunction()" id="backToTopBtn" title="Go to top" class="btn btn-secondary back-to-top-btn">Back to Top</button>

<script>
  // When the user scrolls down 20px from the top of the document, show the button
  window.onscroll = function() {scrollFunction()};
  
  function scrollFunction() {
      if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
          document.getElementById("backToTopBtn").style.display = "block";
      } else {
          document.getElementById("backToTopBtn").style.display = "none";
      }
  }
  
  // When the user clicks on the button, scroll to the top of the document
  function topFunction() {
      document.body.scrollTop = 0; // For Safari
      document.documentElement.scrollTop = 0; // For Chrome, Firefox, IE, and Opera
  }
  </script>

<script>
document.addEventListener('DOMContentLoaded', function () {
    const textareas = document.querySelectorAll('.char-counter');

    textareas.forEach(textarea => {
        const counter = document.querySelector(`[data-target="${textarea.id}-counter"]`);

        textarea.addEventListener('input', function () {
            const charCount = this.value.length;
            counter.textContent = charCount;
        });
    });
});

</script>

{% endblock %}
